/*! YOOtheme Pro v2.7.16 | https://yootheme.com */
(function(){"use strict";function k(t,n){n===void 0&&(n={});var o=n.insertAt;if(!(!t||typeof document=="undefined")){var i=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style");e.type="text/css",o==="top"&&i.firstChild?i.insertBefore(e,i.firstChild):i.appendChild(e),e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}}var Q=".tm-editor{width:100%;height:400px;background:#fff;border:1px solid #ddd;text-align:center}.tm-link{display:inline-block;margin:20px auto;color:#888}.tm-button{display:block;box-sizing:border-box;width:280px;max-width:100%;margin:150px auto 0;padding:20px 30px;border-radius:2px;background:linear-gradient(140deg,#fe67d4,#4956e3);box-shadow:inset 0 0 1px 0 rgba(0,0,0,.5);line-height:10px;color:#fff!important;font-size:11px;font-weight:700;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,sans-serif;text-align:center;text-decoration:none!important;text-transform:uppercase;letter-spacing:2px;-webkit-font-smoothing:antialiased}.tm-active #editor-xtd-buttons,.tm-active #jform_articletext,.tm-active .CodeMirror,.tm-active .label{display:none}.tm-joomla3 .tm-modal-builder{top:25%!important}@media (min-width:768px){.tm-joomla3 .tm-modal-builder{width:500px;margin-left:-250px}}.tm-joomla4 .tm-modal-builder{top:25%;padding:0 20px}.tm-joomla4 .tm-modal-builder .modal-dialog{margin:0 auto;max-width:600px}.tm-modal-builder .modal-body{padding:20px}.tm-joomla3 .tm-modal-builder .modal-body{box-sizing:border-box}.tm-modal-builder .modal-body>:last-child{margin-bottom:0}";k(Q);const G=String.prototype.startsWith||function(t){return this.lastIndexOf(t,0)===0};function K(t,n){return G.call(t,n)}const X=Array.prototype,{isArray:T}=Array;function j(t){return typeof t=="function"}function F(t){return t!==null&&typeof t=="object"}function Z(t){return F(t)&&t===t.window}function _(t){return N(t)===9}function M(t){return N(t)>=1}function O(t){return N(t)===1}function N(t){return!Z(t)&&F(t)&&t.nodeType}function tt(t){return typeof t=="boolean"}function h(t){return typeof t=="string"}function L(t){return t===void 0}const nt=Array.from||(t=>X.slice.call(t));function f(t){return s(t)[0]}function s(t){return t&&(M(t)?[t]:nt(t).filter(M))||[]}function ot(){}function D(t){const n=Object.create(null);return o=>n[o]||(n[o]=t(o))}function x(t,n,o){if(F(n)){for(const i in n)x(t,i,n[i]);return}if(L(o))return t=f(t),t&&t.getAttribute(n);s(t).forEach(i=>{j(o)&&(o=o.call(i,x(i,n))),o===null?it(i,n):i.setAttribute(n,o)})}function it(t,n){t=s(t),n.split(" ").forEach(o=>t.forEach(i=>i.hasAttribute(o)&&i.removeAttribute(o)))}const g=typeof window!="undefined",et=g&&/msie|trident/i.test(window.navigator.userAgent);g&&x(document.documentElement,"dir");const rt=g&&"ontouchstart"in window;g&&(rt||window.DocumentTouch&&document instanceof DocumentTouch||navigator.maxTouchPoints);function B(t){return t=f(t),t&&O(t.parentNode)&&t.parentNode}function dt(t,n){return s(t).filter(o=>E(o,n))}const v=g?Element.prototype:{},at=v.matches||v.webkitMatchesSelector||v.msMatchesSelector||ot;function E(t,n){return s(t).some(o=>at.call(o,n))}const st=v.closest||function(t){let n=this;do if(E(n,t))return n;while(n=B(n))};function C(t,n){return K(n,">")&&(n=n.slice(1)),O(t)?st.call(t,n):s(t).map(o=>C(o,n)).filter(Boolean)}function ct(t,n){return h(n)?E(t,n)||!!C(t,n):t===n||(_(n)?n.documentElement:f(n)).contains(f(t))}function ut(t,n){t=f(t);const o=t?s(t.children):[];return n?dt(o,n):o}function lt(t,n){return n?s(t).indexOf(f(n)):ut(B(t)).indexOf(t)}function ft(t,n){return f(z(t,n,"querySelector"))}function R(t,n){return s(z(t,n,"querySelectorAll"))}function z(t,n,o){if(n===void 0&&(n=document),!t||!h(t))return t;t=t.replace(pt,"$1 *"),ht(t)&&(t=bt(t).map(i=>{let e=n;if(i[0]==="!"){const d=i.substr(1).trim().split(" ");e=C(B(n),d[0]),i=d.slice(1).join(" ").trim()}if(i[0]==="-"){const d=i.substr(1).trim().split(" "),r=(e||n).previousElementSibling;e=E(r,i.substr(1))?r:null,i=d.slice(1).join(" ")}return e?`${yt(e)} ${i}`:null}).filter(Boolean).join(","),n=document);try{return n[o](t)}catch{return null}}const mt=/(^|[^\\],)\s*[!>+~-]/,pt=/([!>+~-])(?=\s+[!>+~-]|\s*$)/g,ht=D(t=>t.match(mt)),gt=/.*?[^\\](?:,|$)/g,bt=D(t=>t.match(gt).map(n=>n.replace(/,$/,"").trim()));function yt(t){const n=[];for(;t.parentNode;){const o=x(t,"id");if(o){n.unshift(`#${xt(o)}`);break}else{let{tagName:i}=t;i!=="HTML"&&(i+=`:nth-child(${lt(t)+1})`),n.unshift(i),t=t.parentNode}}return n.join(" > ")}const wt=g&&window.CSS&&CSS.escape||function(t){return t.replace(/([^\x7f-\uFFFF\w-])/g,n=>`\\${n}`)};function xt(t){return h(t)?wt.call(null,t):""}function A(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];let[i,e,d,r,u]=P(n);return i=H(i),r.length>1&&(r=At(r)),u&&u.self&&(r=St(r)),d&&(r=Ct(d,r)),u=I(u),e.split(" ").forEach(a=>i.forEach(m=>m.addEventListener(a,r,u))),()=>vt(i,e,r,u)}function vt(t,n,o,i){i===void 0&&(i=!1),i=I(i),t=H(t),n.split(" ").forEach(e=>t.forEach(d=>d.removeEventListener(e,o,i)))}function Et(){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];const[i,e,d,r,u,a]=P(n),m=A(i,e,d,p=>{const l=!a||a(p);l&&(m(),r(p,l))},u);return m}function P(t){return j(t[2])&&t.splice(2,0,!1),t}function Ct(t,n){return o=>{const i=t[0]===">"?R(t,o.currentTarget).reverse().filter(e=>ct(o.target,e))[0]:C(o.target,t);i&&(o.current=i,n.call(this,o))}}function At(t){return n=>T(n.detail)?t(n,...n.detail):t(n)}function St(t){return function(n){if(n.target===n.currentTarget||n.target===n.current)return t.call(null,n)}}function I(t){return t&&et&&!tt(t)?!!t.capture:t}function Y(t){return t&&"addEventListener"in t}function $t(t){return Y(t)?t:f(t)}function H(t){return T(t)?t.map($t).filter(Boolean):h(t)?R(t):Y(t)?[t]:s(t)}function Ft(t){if(document.readyState!=="loading"){t();return}Et(document,"DOMContentLoaded",t)}function Nt(t,n){return t=c(t),t.hasChildNodes()?S(n,o=>t.insertBefore(o,t.firstChild)):y(t,n)}function y(t,n){return t=c(t),S(n,o=>t.appendChild(o))}function Bt(t,n){return t=c(t),S(n,o=>t.parentNode.insertBefore(o,t))}function Tt(t,n){return t=c(t),S(n,o=>t.nextSibling?Bt(t.nextSibling,o):y(t.parentNode,o))}function S(t,n){return t=h(t)?W(t):t,t?"length"in t?s(t).map(n):n(t):null}const jt=/^\s*<(\w+|!)[^>]*>/,Mt=/^<(\w+)\s*\/?>(?:<\/\1>)?$/;function W(t){const n=Mt.exec(t);if(n)return document.createElement(n[1]);const o=document.createElement("div");return jt.test(t)?o.insertAdjacentHTML("beforeend",t.trim()):o.textContent=t,o.childNodes.length>1?s(o.childNodes):o.firstChild}function c(t,n){return Ot(t)?f(W(t)):ft(t,n)}function Ot(t){return h(t)&&(t[0]==="<"||t.match(/^\s*</))}function Lt(t){for(var n=arguments.length,o=new Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];Rt(t,o,"add")}function Dt(t,n,o){n=q(n);const i=s(t);for(let e=0;e<i.length;e++){const d=i[e].classList;for(let r=0;r<n.length;r++)L(o)?d.toggle(n[r]):$.Force?d.toggle(n[r],!!o):d[o?"add":"remove"](n[r])}}function Rt(t,n,o){n=n.reduce((e,d)=>e.concat(q(d)),[]);const i=s(t);for(let e=0;e<i.length;e++)$.Multiple?i[e].classList[o](...n):n.forEach(d=>i[e].classList[o](d))}function q(t){return String(t).split(/\s|,/).filter(Boolean)}let $={get Multiple(){return this.get("Multiple")},get Force(){return this.get("Force")},get(t){const{classList:n}=document.createElement("_");return n.add("a","b"),n.toggle("c",!1),$={Multiple:n.contains("b"),Force:!n.contains("c")},$[t]}};const w={},{location:{href:zt}}=window;Ft(()=>{const{$articles:{url:t}}=window,n=`${t}&return=${encodeURIComponent(zt)}`,o=/<!--\s?({(?:.*?)})\s?-->/,i=c("#jform_articletext"),e=c("#general .editor, #general .js-editor-tinymce, #adminForm #editor .editor, #adminForm #editor .js-editor-tinymce"),d=i?.value.match(o),r=e?.parentNode||i?.parentNode;Lt(document.body,`tm-joomla${U()}`),It(r,n),Yt("#general #editor-xtd-buttons, #editor #editor-xtd-buttons, #general .editor-xtd-buttons, #editor .editor-xtd-buttons",n,r),Ht('[name="adminForm"]',()=>w.dirty=!0),A("body","click",".tm-link",a=>{a.preventDefault(),Pt(n)}),A("body","click",".tm-default",a=>{a.preventDefault(),u();const{Joomla:m,tinyMCE:p={}}=window,{jform_articletext:l}=m.editors.instances,J=i.value,V=J.replace(o,"");l.setValue(V),p.activeEditor?.getContent()===J&&p.activeEditor.setContent(V),l.refresh?.()});function u(a){e&&(e.hidden=!!a),i.disabled=!!a;const m=c("#articletext_clone");m&&(m.disabled=!a),Dt(r,"tm-active",!!a);const p=c(".tm-editor");if(p&&(p.hidden=!a),a){const l=i.cloneNode(!0);Tt(i,l),l.id="articletext_clone",l.style.display="none",l.disabled=!1}}u(d)});function Pt(t){w.dialog=w.dialog||y(c("body"),`<div class="modal fade tm-modal-builder" tabindex="-1" role="dialog">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-body">
                    <p>${b("This article was previously edited with the YOOtheme Builder. You can continue in the Default Editor, but you will lose all formatting.")}</p>
                </div>
                <div class="modal-footer">
                    <a class="btn btn-primary" href="${t}">${b("Edit in YOOtheme Builder")}</a>
                    <button class="btn btn-secondary tm-default" type="button" data-dismiss="modal" data-bs-dismiss="modal">${b("Continue to Default Editor")}</button>
                </div>
            </div>
        </div>
    </div>`),U()===4?new window.bootstrap.Modal(w.dialog).show():window.jQuery(w.dialog).modal().show()}function It(t,n){y(t,`<div class="tm-editor" hidden>
        <a href="${n}" class="tm-button">${b("YOOtheme Builder")}</a>
        <a href class="tm-link">&#8592; ${b("Back to Default Editor")}</a>
    </div>`)}function Yt(t,n,o){let i=c(t);i||(i=c('<div id="editor-xtd-buttons" class="btn-toolbar pull-left mt-3">'),y(o,i));const e=c(`<a class="btn btn-primary"><span class="icon-star"></span> ${b("YOOtheme Builder")}</a>`);e.href=n,Nt(i,e)}function Ht(t,n){const{tinyMCE:o={}}=window;A(t,"change",n),o.editors&&(o.on&&(o.on("AddEditor",i=>{let{editor:e}=i;return e.on("change",n)}),o.editors.forEach(i=>i.on("change",n))),o.onAddEditor&&(o.editors.forEach(i=>{let{onChange:e}=i;return e.add(n)}),o.onAddEditor.add((i,e)=>{let{onChange:d}=e;return d.add(n)})))}function b(t){return t}function U(){return window.bootstrap?.Modal?4:3}})();
